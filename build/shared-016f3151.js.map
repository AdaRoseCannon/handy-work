{"version":3,"file":"shared-016f3151.js","sources":["../node_modules/comlink/dist/esm/comlink.mjs","../node_modules/three/src/math/MathUtils.js","../node_modules/three/src/math/Quaternion.js","../node_modules/three/src/math/Vector3.js","../node_modules/three/src/math/Matrix4.js","../src/normalize.js"],"sourcesContent":["/**\r\n * Copyright 2019 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst proxyMarker = Symbol(\"Comlink.proxy\");\r\nconst createEndpoint = Symbol(\"Comlink.endpoint\");\r\nconst releaseProxy = Symbol(\"Comlink.releaseProxy\");\r\nconst throwMarker = Symbol(\"Comlink.thrown\");\r\nconst isObject = (val) => (typeof val === \"object\" && val !== null) || typeof val === \"function\";\r\n/**\r\n * Internal transfer handle to handle objects marked to proxy.\r\n */\r\nconst proxyTransferHandler = {\r\n    canHandle: (val) => isObject(val) && val[proxyMarker],\r\n    serialize(obj) {\r\n        const { port1, port2 } = new MessageChannel();\r\n        expose(obj, port1);\r\n        return [port2, [port2]];\r\n    },\r\n    deserialize(port) {\r\n        port.start();\r\n        return wrap(port);\r\n    },\r\n};\r\n/**\r\n * Internal transfer handler to handle thrown exceptions.\r\n */\r\nconst throwTransferHandler = {\r\n    canHandle: (value) => isObject(value) && throwMarker in value,\r\n    serialize({ value }) {\r\n        let serialized;\r\n        if (value instanceof Error) {\r\n            serialized = {\r\n                isError: true,\r\n                value: {\r\n                    message: value.message,\r\n                    name: value.name,\r\n                    stack: value.stack,\r\n                },\r\n            };\r\n        }\r\n        else {\r\n            serialized = { isError: false, value };\r\n        }\r\n        return [serialized, []];\r\n    },\r\n    deserialize(serialized) {\r\n        if (serialized.isError) {\r\n            throw Object.assign(new Error(serialized.value.message), serialized.value);\r\n        }\r\n        throw serialized.value;\r\n    },\r\n};\r\n/**\r\n * Allows customizing the serialization of certain values.\r\n */\r\nconst transferHandlers = new Map([\r\n    [\"proxy\", proxyTransferHandler],\r\n    [\"throw\", throwTransferHandler],\r\n]);\r\nfunction expose(obj, ep = self) {\r\n    ep.addEventListener(\"message\", function callback(ev) {\r\n        if (!ev || !ev.data) {\r\n            return;\r\n        }\r\n        const { id, type, path } = Object.assign({ path: [] }, ev.data);\r\n        const argumentList = (ev.data.argumentList || []).map(fromWireValue);\r\n        let returnValue;\r\n        try {\r\n            const parent = path.slice(0, -1).reduce((obj, prop) => obj[prop], obj);\r\n            const rawValue = path.reduce((obj, prop) => obj[prop], obj);\r\n            switch (type) {\r\n                case \"GET\" /* GET */:\r\n                    {\r\n                        returnValue = rawValue;\r\n                    }\r\n                    break;\r\n                case \"SET\" /* SET */:\r\n                    {\r\n                        parent[path.slice(-1)[0]] = fromWireValue(ev.data.value);\r\n                        returnValue = true;\r\n                    }\r\n                    break;\r\n                case \"APPLY\" /* APPLY */:\r\n                    {\r\n                        returnValue = rawValue.apply(parent, argumentList);\r\n                    }\r\n                    break;\r\n                case \"CONSTRUCT\" /* CONSTRUCT */:\r\n                    {\r\n                        const value = new rawValue(...argumentList);\r\n                        returnValue = proxy(value);\r\n                    }\r\n                    break;\r\n                case \"ENDPOINT\" /* ENDPOINT */:\r\n                    {\r\n                        const { port1, port2 } = new MessageChannel();\r\n                        expose(obj, port2);\r\n                        returnValue = transfer(port1, [port1]);\r\n                    }\r\n                    break;\r\n                case \"RELEASE\" /* RELEASE */:\r\n                    {\r\n                        returnValue = undefined;\r\n                    }\r\n                    break;\r\n                default:\r\n                    return;\r\n            }\r\n        }\r\n        catch (value) {\r\n            returnValue = { value, [throwMarker]: 0 };\r\n        }\r\n        Promise.resolve(returnValue)\r\n            .catch((value) => {\r\n            return { value, [throwMarker]: 0 };\r\n        })\r\n            .then((returnValue) => {\r\n            const [wireValue, transferables] = toWireValue(returnValue);\r\n            ep.postMessage(Object.assign(Object.assign({}, wireValue), { id }), transferables);\r\n            if (type === \"RELEASE\" /* RELEASE */) {\r\n                // detach and deactive after sending release response above.\r\n                ep.removeEventListener(\"message\", callback);\r\n                closeEndPoint(ep);\r\n            }\r\n        });\r\n    });\r\n    if (ep.start) {\r\n        ep.start();\r\n    }\r\n}\r\nfunction isMessagePort(endpoint) {\r\n    return endpoint.constructor.name === \"MessagePort\";\r\n}\r\nfunction closeEndPoint(endpoint) {\r\n    if (isMessagePort(endpoint))\r\n        endpoint.close();\r\n}\r\nfunction wrap(ep, target) {\r\n    return createProxy(ep, [], target);\r\n}\r\nfunction throwIfProxyReleased(isReleased) {\r\n    if (isReleased) {\r\n        throw new Error(\"Proxy has been released and is not useable\");\r\n    }\r\n}\r\nfunction createProxy(ep, path = [], target = function () { }) {\r\n    let isProxyReleased = false;\r\n    const proxy = new Proxy(target, {\r\n        get(_target, prop) {\r\n            throwIfProxyReleased(isProxyReleased);\r\n            if (prop === releaseProxy) {\r\n                return () => {\r\n                    return requestResponseMessage(ep, {\r\n                        type: \"RELEASE\" /* RELEASE */,\r\n                        path: path.map((p) => p.toString()),\r\n                    }).then(() => {\r\n                        closeEndPoint(ep);\r\n                        isProxyReleased = true;\r\n                    });\r\n                };\r\n            }\r\n            if (prop === \"then\") {\r\n                if (path.length === 0) {\r\n                    return { then: () => proxy };\r\n                }\r\n                const r = requestResponseMessage(ep, {\r\n                    type: \"GET\" /* GET */,\r\n                    path: path.map((p) => p.toString()),\r\n                }).then(fromWireValue);\r\n                return r.then.bind(r);\r\n            }\r\n            return createProxy(ep, [...path, prop]);\r\n        },\r\n        set(_target, prop, rawValue) {\r\n            throwIfProxyReleased(isProxyReleased);\r\n            // FIXME: ES6 Proxy Handler `set` methods are supposed to return a\r\n            // boolean. To show good will, we return true asynchronously ¯\\_(ツ)_/¯\r\n            const [value, transferables] = toWireValue(rawValue);\r\n            return requestResponseMessage(ep, {\r\n                type: \"SET\" /* SET */,\r\n                path: [...path, prop].map((p) => p.toString()),\r\n                value,\r\n            }, transferables).then(fromWireValue);\r\n        },\r\n        apply(_target, _thisArg, rawArgumentList) {\r\n            throwIfProxyReleased(isProxyReleased);\r\n            const last = path[path.length - 1];\r\n            if (last === createEndpoint) {\r\n                return requestResponseMessage(ep, {\r\n                    type: \"ENDPOINT\" /* ENDPOINT */,\r\n                }).then(fromWireValue);\r\n            }\r\n            // We just pretend that `bind()` didn’t happen.\r\n            if (last === \"bind\") {\r\n                return createProxy(ep, path.slice(0, -1));\r\n            }\r\n            const [argumentList, transferables] = processArguments(rawArgumentList);\r\n            return requestResponseMessage(ep, {\r\n                type: \"APPLY\" /* APPLY */,\r\n                path: path.map((p) => p.toString()),\r\n                argumentList,\r\n            }, transferables).then(fromWireValue);\r\n        },\r\n        construct(_target, rawArgumentList) {\r\n            throwIfProxyReleased(isProxyReleased);\r\n            const [argumentList, transferables] = processArguments(rawArgumentList);\r\n            return requestResponseMessage(ep, {\r\n                type: \"CONSTRUCT\" /* CONSTRUCT */,\r\n                path: path.map((p) => p.toString()),\r\n                argumentList,\r\n            }, transferables).then(fromWireValue);\r\n        },\r\n    });\r\n    return proxy;\r\n}\r\nfunction myFlat(arr) {\r\n    return Array.prototype.concat.apply([], arr);\r\n}\r\nfunction processArguments(argumentList) {\r\n    const processed = argumentList.map(toWireValue);\r\n    return [processed.map((v) => v[0]), myFlat(processed.map((v) => v[1]))];\r\n}\r\nconst transferCache = new WeakMap();\r\nfunction transfer(obj, transfers) {\r\n    transferCache.set(obj, transfers);\r\n    return obj;\r\n}\r\nfunction proxy(obj) {\r\n    return Object.assign(obj, { [proxyMarker]: true });\r\n}\r\nfunction windowEndpoint(w, context = self, targetOrigin = \"*\") {\r\n    return {\r\n        postMessage: (msg, transferables) => w.postMessage(msg, targetOrigin, transferables),\r\n        addEventListener: context.addEventListener.bind(context),\r\n        removeEventListener: context.removeEventListener.bind(context),\r\n    };\r\n}\r\nfunction toWireValue(value) {\r\n    for (const [name, handler] of transferHandlers) {\r\n        if (handler.canHandle(value)) {\r\n            const [serializedValue, transferables] = handler.serialize(value);\r\n            return [\r\n                {\r\n                    type: \"HANDLER\" /* HANDLER */,\r\n                    name,\r\n                    value: serializedValue,\r\n                },\r\n                transferables,\r\n            ];\r\n        }\r\n    }\r\n    return [\r\n        {\r\n            type: \"RAW\" /* RAW */,\r\n            value,\r\n        },\r\n        transferCache.get(value) || [],\r\n    ];\r\n}\r\nfunction fromWireValue(value) {\r\n    switch (value.type) {\r\n        case \"HANDLER\" /* HANDLER */:\r\n            return transferHandlers.get(value.name).deserialize(value.value);\r\n        case \"RAW\" /* RAW */:\r\n            return value.value;\r\n    }\r\n}\r\nfunction requestResponseMessage(ep, msg, transfers) {\r\n    return new Promise((resolve) => {\r\n        const id = generateUUID();\r\n        ep.addEventListener(\"message\", function l(ev) {\r\n            if (!ev.data || !ev.data.id || ev.data.id !== id) {\r\n                return;\r\n            }\r\n            ep.removeEventListener(\"message\", l);\r\n            resolve(ev.data);\r\n        });\r\n        if (ep.start) {\r\n            ep.start();\r\n        }\r\n        ep.postMessage(Object.assign({ id }, msg), transfers);\r\n    });\r\n}\r\nfunction generateUUID() {\r\n    return new Array(4)\r\n        .fill(0)\r\n        .map(() => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER).toString(16))\r\n        .join(\"-\");\r\n}\n\nexport { createEndpoint, expose, proxy, proxyMarker, releaseProxy, transfer, transferHandlers, windowEndpoint, wrap };\n//# sourceMappingURL=comlink.mjs.map\n","const _lut = [];\n\nfor ( let i = 0; i < 256; i ++ ) {\n\n\t_lut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n}\n\nlet _seed = 1234567;\n\n\nconst DEG2RAD = Math.PI / 180;\nconst RAD2DEG = 180 / Math.PI;\n\n// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\nfunction generateUUID() {\n\n\tconst d0 = Math.random() * 0xffffffff | 0;\n\tconst d1 = Math.random() * 0xffffffff | 0;\n\tconst d2 = Math.random() * 0xffffffff | 0;\n\tconst d3 = Math.random() * 0xffffffff | 0;\n\tconst uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\n\n\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\treturn uuid.toUpperCase();\n\n}\n\nfunction clamp( value, min, max ) {\n\n\treturn Math.max( min, Math.min( max, value ) );\n\n}\n\n// compute euclidian modulo of m % n\n// https://en.wikipedia.org/wiki/Modulo_operation\nfunction euclideanModulo( n, m ) {\n\n\treturn ( ( n % m ) + m ) % m;\n\n}\n\n// Linear mapping from range <a1, a2> to range <b1, b2>\nfunction mapLinear( x, a1, a2, b1, b2 ) {\n\n\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n}\n\n// https://www.gamedev.net/tutorials/programming/general-and-gameplay-programming/inverse-lerp-a-super-useful-yet-often-overlooked-function-r5230/\nfunction inverseLerp( x, y, value ) {\n\n\tif ( x !== y ) {\n\n\t\treturn ( value - x ) / ( y - x );\n\n\t\t } else {\n\n\t\treturn 0;\n\n\t\t }\n\n}\n\n// https://en.wikipedia.org/wiki/Linear_interpolation\nfunction lerp( x, y, t ) {\n\n\treturn ( 1 - t ) * x + t * y;\n\n}\n\n// http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\nfunction damp( x, y, lambda, dt ) {\n\n\treturn lerp( x, y, 1 - Math.exp( - lambda * dt ) );\n\n}\n\n// https://www.desmos.com/calculator/vcsjnyz7x4\nfunction pingpong( x, length = 1 ) {\n\n\treturn length - Math.abs( euclideanModulo( x, length * 2 ) - length );\n\n}\n\n// http://en.wikipedia.org/wiki/Smoothstep\nfunction smoothstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * ( 3 - 2 * x );\n\n}\n\nfunction smootherstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n}\n\n// Random integer from <low, high> interval\nfunction randInt( low, high ) {\n\n\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n}\n\n// Random float from <low, high> interval\nfunction randFloat( low, high ) {\n\n\treturn low + Math.random() * ( high - low );\n\n}\n\n// Random float from <-range/2, range/2> interval\nfunction randFloatSpread( range ) {\n\n\treturn range * ( 0.5 - Math.random() );\n\n}\n\n// Deterministic pseudo-random float in the interval [ 0, 1 ]\nfunction seededRandom( s ) {\n\n\tif ( s !== undefined ) _seed = s % 2147483647;\n\n\t// Park-Miller algorithm\n\n\t_seed = _seed * 16807 % 2147483647;\n\n\treturn ( _seed - 1 ) / 2147483646;\n\n}\n\nfunction degToRad( degrees ) {\n\n\treturn degrees * DEG2RAD;\n\n}\n\nfunction radToDeg( radians ) {\n\n\treturn radians * RAD2DEG;\n\n}\n\nfunction isPowerOfTwo( value ) {\n\n\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n}\n\nfunction ceilPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction floorPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction setQuaternionFromProperEuler( q, a, b, c, order ) {\n\n\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\n\t// rotations are applied to the axes in the order specified by 'order'\n\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n\t// angles are in radians\n\n\tconst cos = Math.cos;\n\tconst sin = Math.sin;\n\n\tconst c2 = cos( b / 2 );\n\tconst s2 = sin( b / 2 );\n\n\tconst c13 = cos( ( a + c ) / 2 );\n\tconst s13 = sin( ( a + c ) / 2 );\n\n\tconst c1_3 = cos( ( a - c ) / 2 );\n\tconst s1_3 = sin( ( a - c ) / 2 );\n\n\tconst c3_1 = cos( ( c - a ) / 2 );\n\tconst s3_1 = sin( ( c - a ) / 2 );\n\n\tswitch ( order ) {\n\n\t\tcase 'XYX':\n\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YZY':\n\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZXZ':\n\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'XZX':\n\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YXY':\n\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZYZ':\n\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order );\n\n\t}\n\n}\n\n\n\n\nexport {\n\tDEG2RAD,\n\tRAD2DEG,\n\tgenerateUUID,\n\tclamp,\n\teuclideanModulo,\n\tmapLinear,\n\tinverseLerp,\n\tlerp,\n\tdamp,\n\tpingpong,\n\tsmoothstep,\n\tsmootherstep,\n\trandInt,\n\trandFloat,\n\trandFloatSpread,\n\tseededRandom,\n\tdegToRad,\n\tradToDeg,\n\tisPowerOfTwo,\n\tceilPowerOfTwo,\n\tfloorPowerOfTwo,\n\tsetQuaternionFromProperEuler,\n};\n","import * as MathUtils from './MathUtils.js';\n\nclass Quaternion {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t}\n\n\tstatic slerp( qa, qb, qm, t ) {\n\n\t\tconsole.warn( 'THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead.' );\n\t\treturn qm.slerpQuaternions( qa, qb, t );\n\n\t}\n\n\tstatic slerpFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tlet x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( t === 0 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x0;\n\t\t\tdst[ dstOffset + 1 ] = y0;\n\t\t\tdst[ dstOffset + 2 ] = z0;\n\t\t\tdst[ dstOffset + 3 ] = w0;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( t === 1 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x1;\n\t\t\tdst[ dstOffset + 1 ] = y1;\n\t\t\tdst[ dstOffset + 2 ] = z1;\n\t\t\tdst[ dstOffset + 3 ] = w1;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tlet s = 1 - t;\n\t\t\tconst cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tconst sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tconst tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tconst f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n\tstatic multiplyQuaternionsFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1 ) {\n\n\t\tconst x0 = src0[ srcOffset0 ];\n\t\tconst y0 = src0[ srcOffset0 + 1 ];\n\t\tconst z0 = src0[ srcOffset0 + 2 ];\n\t\tconst w0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 ];\n\t\tconst y1 = src1[ srcOffset1 + 1 ];\n\t\tconst z1 = src1[ srcOffset1 + 2 ];\n\t\tconst w1 = src1[ srcOffset1 + 3 ];\n\n\t\tdst[ dstOffset ] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\n\t\tdst[ dstOffset + 1 ] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\n\t\tdst[ dstOffset + 2 ] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\n\t\tdst[ dstOffset + 3 ] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\n\n\t\treturn dst;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget w() {\n\n\t\treturn this._w;\n\n\t}\n\n\tset w( value ) {\n\n\t\tthis._w = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t}\n\n\tcopy( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromEuler( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst x = euler._x, y = euler._y, z = euler._z, order = euler._order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tconst cos = Math.cos;\n\t\tconst sin = Math.sin;\n\n\t\tconst c1 = cos( x / 2 );\n\t\tconst c2 = cos( y / 2 );\n\t\tconst c3 = cos( z / 2 );\n\n\t\tconst s1 = sin( x / 2 );\n\t\tconst s2 = sin( y / 2 );\n\t\tconst s3 = sin( z / 2 );\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn( 'THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromAxisAngle( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tconst halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\tconst s = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromUnitVectors( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tlet r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < Number.EPSILON ) {\n\n\t\t\t// vFrom and vTo point in opposite directions\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t}\n\n\tangleTo( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( MathUtils.clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t}\n\n\trotateTowards( q, step ) {\n\n\t\tconst angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tconst t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\treturn this.set( 0, 0, 0, 1 );\n\n\t}\n\n\tinvert() {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t}\n\n\tconjugate() {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t}\n\n\tnormalize() {\n\n\t\tlet l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t}\n\n\tpremultiply( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t}\n\n\tmultiplyQuaternions( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tconst qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tconst qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerp( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tconst x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tlet cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tconst s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize();\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tconst halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tconst ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerpQuaternions( qa, qb, t ) {\n\n\t\tthis.copy( qa ).slerp( qb, t );\n\n\t}\n\n\tequals( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis._x = attribute.getX( index );\n\t\tthis._y = attribute.getY( index );\n\t\tthis._z = attribute.getZ( index );\n\t\tthis._w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n}\n\nQuaternion.prototype.isQuaternion = true;\n\nexport { Quaternion };\n","import * as MathUtils from './MathUtils.js';\nimport { Quaternion } from './Quaternion.js';\n\nclass Vector3 {\n\n\tconstructor( x = 0, y = 0, z = 0 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t}\n\n\tset( x, y, z ) {\n\n\t\tif ( z === undefined ) z = this.z; // sprite.scale.set(x,y)\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyVectors( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\treturn this.applyQuaternion( _quaternion.setFromEuler( euler ) );\n\n\t}\n\n\tapplyAxisAngle( axis, angle ) {\n\n\t\treturn this.applyQuaternion( _quaternion.setFromAxisAngle( axis, angle ) );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\treturn this.applyMatrix3( m ).normalize();\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tconst w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tconst ix = qw * x + qy * z - qz * y;\n\t\tconst iy = qw * y + qz * x - qx * z;\n\t\tconst iz = qw * z + qx * y - qy * x;\n\t\tconst iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t}\n\n\tproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t}\n\n\tunproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t}\n\n\t// TODO lengthSquared?\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tcross( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t}\n\n\tcrossVectors( a, b ) {\n\n\t\tconst ax = a.x, ay = a.y, az = a.z;\n\t\tconst bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t}\n\n\tprojectOnVector( v ) {\n\n\t\tconst denominator = v.lengthSq();\n\n\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\n\n\t\tconst scalar = v.dot( this ) / denominator;\n\n\t\treturn this.copy( v ).multiplyScalar( scalar );\n\n\t}\n\n\tprojectOnPlane( planeNormal ) {\n\n\t\t_vector.copy( this ).projectOnVector( planeNormal );\n\n\t\treturn this.sub( _vector );\n\n\t}\n\n\treflect( normal ) {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\treturn this.sub( _vector.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t}\n\n\tangleTo( v ) {\n\n\t\tconst denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\n\n\t\tif ( denominator === 0 ) return Math.PI / 2;\n\n\t\tconst theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( MathUtils.clamp( theta, - 1, 1 ) );\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t}\n\n\tsetFromSpherical( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t}\n\n\tsetFromSphericalCoords( radius, phi, theta ) {\n\n\t\tconst sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCylindrical( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t}\n\n\tsetFromCylindricalCoords( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixPosition( m ) {\n\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixScale( m ) {\n\n\t\tconst sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tconst sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tconst sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixColumn( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t}\n\n\tsetFromMatrix3Column( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 3 );\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector3.prototype.isVector3 = true;\n\nconst _vector = /*@__PURE__*/ new Vector3();\nconst _quaternion = /*@__PURE__*/ new Quaternion();\n\nexport { Vector3 };\n","import { Vector3 } from './Vector3.js';\n\nclass Matrix4 {\n\n\tconstructor() {\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t}\n\n\tcopyPosition( m ) {\n\n\t\tconst te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix3( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 3 ], me[ 6 ], 0,\n\t\t\tme[ 1 ], me[ 4 ], me[ 7 ], 0,\n\t\t\tme[ 2 ], me[ 5 ], me[ 8 ], 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmakeBasis( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractRotation( m ) {\n\n\t\t// this method does not support reflection matrices\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tconst scaleX = 1 / _v1.setFromMatrixColumn( m, 0 ).length();\n\t\tconst scaleY = 1 / _v1.setFromMatrixColumn( m, 1 ).length();\n\t\tconst scaleZ = 1 / _v1.setFromMatrixColumn( m, 2 ).length();\n\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\n\t\tconst x = euler.x, y = euler.y, z = euler.z;\n\t\tconst a = Math.cos( x ), b = Math.sin( x );\n\t\tconst c = Math.cos( y ), d = Math.sin( y );\n\t\tconst e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromQuaternion( q ) {\n\n\t\treturn this.compose( _zero, q, _one );\n\n\t}\n\n\tlookAt( eye, target, up ) {\n\n\t\tconst te = this.elements;\n\n\t\t_z.subVectors( eye, target );\n\n\t\tif ( _z.lengthSq() === 0 ) {\n\n\t\t\t// eye and target are in the same position\n\n\t\t\t_z.z = 1;\n\n\t\t}\n\n\t\t_z.normalize();\n\t\t_x.crossVectors( up, _z );\n\n\t\tif ( _x.lengthSq() === 0 ) {\n\n\t\t\t// up and z are parallel\n\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t_z.x += 0.0001;\n\n\t\t\t} else {\n\n\t\t\t\t_z.z += 0.0001;\n\n\t\t\t}\n\n\t\t\t_z.normalize();\n\t\t\t_x.crossVectors( up, _z );\n\n\t\t}\n\n\t\t_x.normalize();\n\t\t_y.crossVectors( _z, _x );\n\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tconst a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tconst b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tconst n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tconst n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tconst n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t}\n\n\ttranspose() {\n\n\t\tconst te = this.elements;\n\t\tlet tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tsetPosition( x, y, z ) {\n\n\t\tconst te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tinvert() {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ], n41 = te[ 3 ],\n\t\t\tn12 = te[ 4 ], n22 = te[ 5 ], n32 = te[ 6 ], n42 = te[ 7 ],\n\t\t\tn13 = te[ 8 ], n23 = te[ 9 ], n33 = te[ 10 ], n43 = te[ 11 ],\n\t\t\tn14 = te[ 12 ], n24 = te[ 13 ], n34 = te[ 14 ], n44 = te[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tconst det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\tscale( v ) {\n\n\t\tconst te = this.elements;\n\t\tconst x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxScaleOnAxis() {\n\n\t\tconst te = this.elements;\n\n\t\tconst scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tconst scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tconst scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t}\n\n\tmakeTranslation( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationX( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationY( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationZ( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationAxis( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tconst c = Math.cos( angle );\n\t\tconst s = Math.sin( angle );\n\t\tconst t = 1 - c;\n\t\tconst x = axis.x, y = axis.y, z = axis.z;\n\t\tconst tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeScale( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeShear( xy, xz, yx, yz, zx, zy ) {\n\n\t\tthis.set(\n\n\t\t\t1, yx, zx, 0,\n\t\t\txy, 1, zy, 0,\n\t\t\txz, yz, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tconst x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tconst x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tconst xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tconst yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tconst wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tconst sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tdecompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tlet sx = _v1.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\tconst sy = _v1.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\tconst sz = _v1.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t// if determine is negative, we need to invert one scale\n\t\tconst det = this.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\tposition.x = te[ 12 ];\n\t\tposition.y = te[ 13 ];\n\t\tposition.z = te[ 14 ];\n\n\t\t// scale the rotation part\n\t\t_m1.copy( this );\n\n\t\tconst invSX = 1 / sx;\n\t\tconst invSY = 1 / sy;\n\t\tconst invSZ = 1 / sz;\n\n\t\t_m1.elements[ 0 ] *= invSX;\n\t\t_m1.elements[ 1 ] *= invSX;\n\t\t_m1.elements[ 2 ] *= invSX;\n\n\t\t_m1.elements[ 4 ] *= invSY;\n\t\t_m1.elements[ 5 ] *= invSY;\n\t\t_m1.elements[ 6 ] *= invSY;\n\n\t\t_m1.elements[ 8 ] *= invSZ;\n\t\t_m1.elements[ 9 ] *= invSZ;\n\t\t_m1.elements[ 10 ] *= invSZ;\n\n\t\tquaternion.setFromRotationMatrix( _m1 );\n\n\t\tscale.x = sx;\n\t\tscale.y = sy;\n\t\tscale.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tmakePerspective( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\t\tconst x = 2 * near / ( right - left );\n\t\tconst y = 2 * near / ( top - bottom );\n\n\t\tconst a = ( right + left ) / ( right - left );\n\t\tconst b = ( top + bottom ) / ( top - bottom );\n\t\tconst c = - ( far + near ) / ( far - near );\n\t\tconst d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t}\n\n\tmakeOrthographic( left, right, top, bottom, near, far ) {\n\n\t\tconst te = this.elements;\n\t\tconst w = 1.0 / ( right - left );\n\t\tconst h = 1.0 / ( top - bottom );\n\t\tconst p = 1.0 / ( far - near );\n\n\t\tconst x = ( right + left ) * w;\n\t\tconst y = ( top + bottom ) * h;\n\t\tconst z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n}\n\nMatrix4.prototype.isMatrix4 = true;\n\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _m1 = /*@__PURE__*/ new Matrix4();\nconst _zero = /*@__PURE__*/ new Vector3( 0, 0, 0 );\nconst _one = /*@__PURE__*/ new Vector3( 1, 1, 1 );\nconst _x = /*@__PURE__*/ new Vector3();\nconst _y = /*@__PURE__*/ new Vector3();\nconst _z = /*@__PURE__*/ new Vector3();\n\nexport { Matrix4 };\n","import {Matrix4} from 'three';\n\n/**\n * Modify an Array of Matrixes in place by premultiplying them by the inverse of the first item.\n * \n * @param { Float32Array } handPose Array of 4x4 Matrixes in column order\n */\nexport default function normalize(handPose) {\n\n    // handPose is the concatenated data of 4x4 Matrices\n    const size = handPose.length/16;\n\n    // The first item in hand pose information is the wrist\n    const inverseWristMat = new Matrix4();\n    inverseWristMat.fromArray(handPose, 0);\n    inverseWristMat.invert();\n\n    const tempMat = new Matrix4();\n    for (let i=0; i<size; i++) {\n        const offset = i*16;\n        tempMat.fromArray(handPose, offset);\n        tempMat.premultiply(inverseWristMat);\n        tempMat.toArray(handPose, offset);\n    }\n}"],"names":["proxyMarker","Symbol","createEndpoint","releaseProxy","throwMarker","isObject","val","transferHandlers","Map","canHandle","[object Object]","obj","port1","port2","MessageChannel","expose","deserialize","port","start","wrap","value","serialized","Error","isError","message","name","stack","Object","assign","ep","self","addEventListener","callback","ev","data","id","type","path","argumentList","map","fromWireValue","returnValue","parent","slice","reduce","prop","rawValue","apply","proxy","transfer","undefined","Promise","resolve","catch","then","wireValue","transferables","toWireValue","postMessage","removeEventListener","closeEndPoint","endpoint","constructor","isMessagePort","close","target","createProxy","throwIfProxyReleased","isReleased","isProxyReleased","Proxy","_target","requestResponseMessage","p","toString","length","r","bind","_thisArg","rawArgumentList","last","processArguments","processed","v","arr","Array","prototype","concat","transferCache","WeakMap","transfers","set","handler","serializedValue","serialize","get","msg","fill","Math","floor","random","Number","MAX_SAFE_INTEGER","join","l","_lut","i","clamp","min","max","Quaternion","x","y","z","w","this","_x","_y","_z","_w","qa","qb","qm","t","console","warn","slerpQuaternions","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","s","cos","dir","sqrSin","EPSILON","sin","sqrt","len","atan2","tDir","f","_onChangeCallback","quaternion","euler","update","isEuler","order","_order","c1","c2","c3","s1","s2","s3","axis","angle","halfAngle","m","te","elements","m11","m12","m13","m21","m22","m23","m31","m32","m33","trace","vFrom","vTo","dot","abs","normalize","q","acos","MathUtils.clamp","step","angleTo","slerp","conjugate","multiplyQuaternions","a","b","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","copy","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","array","offset","attribute","index","getX","getY","getZ","getW","isQuaternion","Vector3","scalar","addVectors","subVectors","multiplyVectors","error","applyQuaternion","_quaternion","setFromEuler","setFromAxisAngle","e","applyMatrix3","qx","qy","qz","qw","ix","iy","iz","iw","camera","applyMatrix4","matrixWorldInverse","projectionMatrix","projectionMatrixInverse","matrixWorld","multiplyScalar","minVal","maxVal","divideScalar","ceil","round","alpha","v1","v2","crossVectors","ax","ay","az","bx","by","bz","denominator","lengthSq","planeNormal","_vector","projectOnVector","sub","normal","PI","theta","distanceToSquared","dx","dy","dz","setFromSphericalCoords","radius","phi","sinPhiRadius","c","setFromCylindricalCoords","sx","setFromMatrixColumn","sy","sz","fromArray","isVector3","Matrix4","arguments","n11","n12","n13","n14","n21","n22","n23","n24","n31","n32","n33","n34","n41","n42","n43","n44","me","xAxis","yAxis","zAxis","scaleX","_v1","scaleY","scaleZ","d","ae","af","be","bf","ce","cf","de","df","ac","ad","bc","bd","compose","_zero","_one","eye","up","n","multiplyMatrices","a11","a12","a13","a14","a21","a22","a23","a24","a31","a32","a33","a34","a41","a42","a43","a44","b11","b12","b13","b14","b21","b22","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","tmp","t11","t12","t13","t14","det","detInv","scaleXSq","scaleYSq","scaleZSq","tx","ty","xy","xz","yx","yz","zx","zy","position","scale","x2","y2","z2","xx","yy","zz","wx","wy","wz","determinant","_m1","invSX","invSY","invSZ","setFromRotationMatrix","left","right","top","bottom","near","far","h","matrix","isMatrix4","handPose","size","inverseWristMat","invert","tempMat","premultiply","toArray"],"mappings":"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"}